# –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ—Ç–æ—Ä–∞–º–∏

## üöó –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ —Ä–æ–±–æ—Ç–∞

### ‚è±Ô∏è –¢–∞–π–º–∞—É—Ç—ã:
- **2 —Å–µ–∫—É–Ω–¥—ã** - –Ω–∞—á–∞–ª–æ –ø–æ–¥–∞—á–∏ –∫–æ–º–∞–Ω–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- **60 —Å–µ–∫—É–Ω–¥** - –ø–æ–ª–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ—Ç–æ—Ä–∞–º–∏

### üìã –≠—Ç–∞–ø—ã —Ä–∞–±–æ—Ç—ã:

#### 1. –ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ (0-2 —Å–µ–∫—É–Ω–¥—ã –±–µ–∑ –∫–æ–º–∞–Ω–¥)
- –ú–æ—Ç–æ—Ä—ã —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –¥–∂–æ–π—Å—Ç–∏–∫–æ–º
- –ö–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ

#### 2. –†–µ–∂–∏–º –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ (2-60 —Å–µ–∫—É–Ω–¥ –±–µ–∑ –∫–æ–º–∞–Ω–¥)
- **–ö–∞–∂–¥—ã–µ 0.5 —Å–µ–∫—É–Ω–¥** —Ä–æ–±–æ—Ç—É –ø–æ–¥–∞—é—Ç—Å—è –∫–æ–º–∞–Ω–¥—ã –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ `set_motors(0, 0)`
- –§–ª–∞–≥ `motors_stopped = True`
- –í –ª–æ–≥–µ: "–ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –ø–æ–¥–∞—á–∞ –∫–æ–º–∞–Ω–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏"

#### 3. –ü–æ–ª–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ (60+ —Å–µ–∫—É–Ω–¥ –±–µ–∑ –∫–æ–º–∞–Ω–¥)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–∞–º–∏ **–ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç—Å—è**
- –ö–æ–º–∞–Ω–¥—ã –¥–∂–æ–π—Å—Ç–∏–∫–∞ **–∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è**
- –§–ª–∞–≥ `motors_disabled = True`
- –í –ª–æ–≥–µ: "–ü–æ–ª–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ—Ç–æ—Ä–∞–º–∏"

#### 4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ (–ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã)
- –í—Å–µ —Ñ–ª–∞–≥–∏ —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è: `motors_stopped = False`, `motors_disabled = False`
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–∞–º–∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- –í –ª–æ–≥–µ: "–ü–æ–ª—É—á–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞, –º–æ—Ç–æ—Ä—ã –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ"

## üîß –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
```python
self.command_timeout = 2.0           # –ù–∞—á–∞–ª–æ –∫–æ–º–∞–Ω–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ (2 —Å–µ–∫)
self.motor_disable_timeout = 60.0    # –ü–æ–ª–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ (60 —Å–µ–∫)
self.motors_stopped = False          # –§–ª–∞–≥ —Ä–µ–∂–∏–º–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
self.motors_disabled = False         # –§–ª–∞–≥ –ø–æ–ª–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
```

### –ú–µ—Ç–æ–¥—ã:
```python
async def _stop_motors(self):        # –ü–æ–¥–∞—á–∞ –∫–æ–º–∞–Ω–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
async def _disable_motors(self):     # –ü–æ–ª–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```

## üìä –õ–æ–≥–∏–∫–∞ –≤ _safety_check_loop()

```python
if elapsed_time > 60.0:  # motor_disable_timeout
    # –ü–æ–ª–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ
    logger.warning("–ü–æ–ª–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–æ–≤")
    await self._disable_motors()
    self.motors_disabled = True

elif elapsed_time > 2.0:  # command_timeout  
    # –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
    if not self.motors_stopped:
        logger.warning("–ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –ø–æ–¥–∞—á–∞ –∫–æ–º–∞–Ω–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏")
        self.motors_stopped = True
    
    if not self.motors_disabled:
        await self._stop_motors()  # –ö–∞–∂–¥—ã–µ 0.5 —Å–µ–∫

else:
    # –°–±—Ä–æ—Å –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã
    if self.motors_stopped or self.motors_disabled:
        logger.info("–ú–æ—Ç–æ—Ä—ã –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ")
        self.motors_stopped = False
        self.motors_disabled = False
```

## üö¶ –ü—Ä–æ–≤–µ—Ä–∫–∏ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–æ–º–∞–Ω–¥

```python
# –ö–æ–º–∞–Ω–¥—ã –¥–∂–æ–π—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –º–æ—Ç–æ—Ä—ã –Ω–µ –æ—Ç–∫–ª—é—á–µ–Ω—ã
if self.motor_controller and not self.motors_disabled:
    left_speed, right_speed = self._calculate_motor_speeds(x, y)
    self.motor_controller.set_motors(left_speed, right_speed)
```

## üéõÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–∞ –ø–æ–ª–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è:
```bash
# 30 —Å–µ–∫—É–Ω–¥ –¥–æ –ø–æ–ª–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
python3 robot_client.py --server ws://193.169.240.11:8080 --timeout 30.0 --use-motors

# 2 –º–∏–Ω—É—Ç—ã –¥–æ –ø–æ–ª–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è  
python3 robot_client.py --server ws://193.169.240.11:8080 --timeout 120.0 --use-motors

# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 60 —Å–µ–∫—É–Ω–¥
python3 robot_client.py --server ws://193.169.240.11:8080 --use-motors
```

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–Ω–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã):
- **command_timeout = 2.0 —Å–µ–∫** - –Ω–∞—á–∞–ª–æ –∫–æ–º–∞–Ω–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- **safety_check_interval = 0.5 —Å–µ–∫** - —á–∞—Å—Ç–æ—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –∫–æ–º–∞–Ω–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

## üìà –í—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞

```
–í—Ä–µ–º—è –±–µ–∑ –∫–æ–º–∞–Ω–¥:     0s  1s  2s  3s  4s  ... 59s  60s  61s  ...
–°–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ—Ç–æ—Ä–æ–≤:    ‚úÖ  ‚úÖ  üõë  üõë  üõë  ... üõë   ‚ùå   ‚ùå   ...
–ö–æ–º–∞–Ω–¥—ã –æ—Å—Ç–∞–Ω–æ–≤–∫–∏:    -   -   ‚úÖ  ‚úÖ  ‚úÖ  ... ‚úÖ   ‚úÖ   -    ...
–†–µ–∞–∫—Ü–∏—è –Ω–∞ –¥–∂–æ–π—Å—Ç–∏–∫:  ‚úÖ  ‚úÖ  ‚úÖ  ‚úÖ  ‚úÖ  ... ‚úÖ   ‚ùå   ‚ùå   ...

‚úÖ = –†–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ
üõë = –ü–æ–¥–∞—á–∞ –∫–æ–º–∞–Ω–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏  
‚ùå = –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–µ–Ω–æ
```

## üîÑ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏

1. **–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞** - –º–æ—Ç–æ—Ä—ã –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
2. **–ù–∞–¥–µ–∂–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞** - –∫–æ–º–∞–Ω–¥—ã –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ–¥–∞—é—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ 58 —Å–µ–∫—É–Ω–¥
3. **–≠–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–∂–µ–Ω–∏–µ** - –ø–æ—Å–ª–µ 60 —Å–µ–∫—É–Ω–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–µ –º–æ—Ç–æ—Ä—ã –Ω–µ —Ä–µ–∞–≥–∏—Ä—É—é—Ç –Ω–∞ —Å–ª—É—á–∞–π–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
5. **–ë—ã—Å—Ç—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** - –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã –≤—Å–µ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

## üö® –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

- **WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** –æ—Å—Ç–∞–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º –≤—Å–µ–≥–¥–∞
- **–í–∏–¥–µ–æ–ø–æ—Ç–æ–∫** –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- **–¢–µ–ª–µ–º–µ—Ç—Ä–∏—è** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –¥–∞–∂–µ —Å –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ –º–æ—Ç–æ—Ä–∞–º–∏
- **–¢–æ–ª—å–∫–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–∞–º–∏** –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ 